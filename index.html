<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>일본어 학습</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; background: #f8f9fa; color: #222; margin: 0; padding: 0; }
    nav { background: #343a40; padding: 10px; text-align: center; }
    nav button { background: #495057; color: white; border: none; padding: 10px 15px; margin: 5px; font-size: 16px; cursor: pointer; border-radius: 5px; height: 44px; }
    nav button:hover { background: #6c757d; }
    .page { display: none; padding: 20px; text-align: center; }
    .active { display: block; }
    .question { font-size: 32px; margin-bottom: 20px; }
    .options { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
    .options button {
    display: inline-block;
    text-align: center;
    vertical-align: middle;
    line-height: 60px;
    height: 60px;
    width: 60px;
    font-size: 18px;
    border-radius: 8px;
    font-weight: bold;
    }
    .kana-switch {
    display: grid;
    grid-template-columns: repeat(2, auto);
    gap: 10px;
    justify-content: center;
    margin: 20px auto;
    max-width: 400px;
  }

  .kana-switch button {
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    border: none;
    cursor: pointer;
    background: #ccc;
  }

  .kana-switch button.active {
    background: #007bff;
    color: white;
    font-weight: bold;
  }
    .result { font-size: 20px; margin-top: 15px; font-weight: bold; }
    .description { white-space: pre-wrap; margin-top: 10px; font-size: 16px; }
    #mc-next-btn, #sa-next-btn { margin-top: 10px; font-size: 18px; display: none; }
    #memory-list { text-align: left; max-width: 600px; margin: auto; padding: 10px; white-space: pre-wrap; }
    #search { margin-bottom: 10px; padding: 8px; font-size: 16px; width: 80%; max-width: 300px; }
    .mode-switch { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
    .mode-switch button { padding: 10px 20px; font-size: 16px; border-radius: 5px; border: none; cursor: pointer; background: #ccc; }
    .mode-switch button.active { background: #007bff; color: white; font-weight: bold; }
  </style>
</head>
<body>
  <nav>
    <button onclick="showPage('main')">메인 페이지</button>
    <button onclick="showPage('kana')">기초 문자</button> 
    <button onclick="showPage('quiz')">한자 문제</button>
    <button onclick="showPage('memory')">한자 검색</button>
    <button onclick="showPage('about')">About</button>
  </nav>

  <div id="main" class="page active">
    <h1>JLPT 한자 암기</h1>
    <p>
      <strong>1. 한자 문제 :: 두음법칙</strong><br>
      주관식 문제에서는 두음법칙 적용 여부와 상관없이 어떤 발음을 입력해도 정답 처리됩니다.<br>
      객관식 문제는 단일 정답을 선택하지만, 혼동되는 오답은 포함되어 있지 않습니다.
    </p>
    <p>
      <strong>2. 키보드 조작</strong><br>
      객관식 문제 : 숫자패드(1~4)로 선택, → 키로 다음 문제<br>
      주관식 문제 : Enter 키로 제출, Enter 키 혹은 → 키로 다음 문제
    </p>
  </div>

  <div id="kana" class="page">
  <div class="kana-switch">
    <button id="btn-hira" class="active" onclick="selectKanaType('hira')">히라가나</button>
    <button id="btn-kata" onclick="selectKanaType('kata')">가타카나</button>
    <button id="btn-char2sound" class="active" onclick="selectKanaMode('char2sound')">문자 → 발음</button>
    <button id="btn-sound2char" onclick="selectKanaMode('sound2char')">발음 → 문자</button>
    <button id="btn-kana-mc" class="active" onclick="selectKanaQuiz('mc')">객관식</button>
    <button id="btn-kana-sa" onclick="selectKanaQuiz('sa')">주관식</button>
  </div>
  <div id="kana-quiz-container">
  
  </div>
</div>
  
  <div id="quiz" class="page">
    <div class="mode-switch">
      <button id="btn-mc" class="active" onclick="switchkanjiMode('mc')">객관식</button>
      <button id="btn-sa" onclick="switchkanjiMode('sa')">주관식</button>
    </div>

    <div id="mc-container">
      <div class="question" id="mc-question"></div>
      <div class="options" id="mc-options"></div>
      <div class="result" id="mc-result"></div>
      <button id="mc-next-btn" onclick="nextMCQuestion()">다음 문제 ▶</button>
      <div class="description" id="mc-description"></div>
    </div>

    <div id="sa-container" style="display: none;">
      <div class="question" id="sa-question"></div>
      <input type="text" id="sa-answer" placeholder="정답 입력">
      <button onclick="checkSAAnswer()">제출</button>
      <div class="result" id="sa-result"></div>
      <button id="sa-next-btn" onclick="nextSAQuestion()">다음 문제 ▶</button>
      <div class="description" id="sa-description"></div>
    </div>
  </div>

  <div id="memory" class="page">
    <h2>한자 검색</h2>
    <input type="text" id="search" placeholder="검색어 입력" onkeyup="searchMemory()">
    <div id="memory-list"></div>
  </div>

  <div id="about" class="page">
    <p>
      <strong>최종수정</strong><br>
      2025-07-05 13:30<br>
      시간 날 때마다 기능을 추가합니다.
    </p>
    <p>
      <strong>1. 문의사항</strong><br>
      오류 및 건의사항은 <a href="https://x.com/austock21" target="_blank">@austock21</a> 또는 austock34@gmail.com 으로 연락 주세요.
    </p>
    <p>
      <strong>2. 이용안내</strong><br>
      링크를 함부로 업로드하거나 허가없이 타인에게 공유하지 말아주시기 바랍니다.
    </p>
    <p>
      <strong>제작</strong><br>
      타임 (Twitter <a href="https://x.com/austock21" target="_blank">@austock21</a>)
    </p>
  </div>

  <footer>
    © 2025 일본어 학습 퀴즈 | 제작: austock21
  </footer>
  
  <script>
    let currentKana = null; // 현재 문제 데이터 저장
    let kanaAnswered = false; // 중복 제출 방지
  
    const hira_char2sound = [
  ["あ","아","오","메","누"],
  ["い","이","리","코","시"],
  ["う","우","츠","이","에"],
  ["え","에","우","응","치"],
  ["お","오","아","네","나"],
  ["か","카","나","오","무"],
  ["き","키","사","치","에"],
  ["く","쿠","이","테","시"],
  ["け","케","하","타","치"],
  ["こ","코","이","리","시"],
  ["さ","사","치","키","소"],
  ["し","시","츠","이","코"],
  ["す","스","츠","네","코"],
  ["せ","세","니","리","타"],
  ["そ","소","응","레","치"],
  ["た","타","니","세","코"],
  ["ち","치","사","케","키"],
  ["つ","츠","시","우","응"],
  ["て","테","쿠","토","츠"],
  ["と","토","테","츠","쿠"],
  ["な","나","오","아","타"],
  ["に","니","타","리","케"],
  ["ぬ","누","아","노","와"],
  ["ね","네","레","와","오"],
  ["の","노","메","네","누"],
  ["は","하","케","마","호"],
  ["ひ","히","노","시","메"],
  ["ふ","후","헤","츠","토"],
  ["へ","헤","코","쿠","시"],
  ["ほ","호","마","하","세"],
  ["ま","마","호","하","누"],
  ["み","미","레","오","니"],
  ["む","무","오","아","세"],
  ["め","메","누","네","노"],
  ["も","모","누","마","네"],
  ["や","야","모","와","유"],
  ["ゆ","유","와","오","누"],
  ["よ","요","네","라","누"],
  ["ら","라","와","리","이"],
  ["り","리","이","시","치"],
  ["る","루","로","하","누"],
  ["れ","레","네","루","와"],
  ["ろ","로","루","와","오"],
  ["わ","와","네","레","노"],
  ["を","오","치","츠","아"],
  ["ん","응","소","츠","에"]
];

const hira_sound2char = [
  ["아","あ","お","め","ぬ"],
  ["이","い","り","こ","し"],
  ["우","う","つ","い","え"],
  ["에","え","う","ん","ち"],
  ["오","お","あ","ね","な"],
  ["카","か","な","お","む"],
  ["키","き","さ","ち","え"],
  ["쿠","く","い","て","し"],
  ["케","け","は","た","ち"],
  ["코","こ","い","り","し"],
  ["사","さ","ち","き","そ"],
  ["시","し","つ","い","こ"],
  ["스","す","つ","ね","こ"],
  ["세","せ","に","り","た"],
  ["소","そ","ん","れ","ち"],
  ["타","た","に","せ","こ"],
  ["치","ち","さ","け","き"],
  ["츠","つ","し","う","ん"],
  ["테","て","く","と","つ"],
  ["토","と","て","つ","く"],
  ["나","な","を","あ","た"],
  ["니","に","た","り","け"],
  ["누","ぬ","あ","の","わ"],
  ["네","ね","れ","わ","を"],
  ["노","の","め","ね","ぬ"],
  ["하","は","け","ま","ほ"],
  ["히","ひ","の","し","め"],
  ["후","ふ","へ","つ","と"],
  ["헤","へ","こ","く","し"],
  ["호","ほ","ま","は","せ"],
  ["마","ま","ほ","は","ぬ"],
  ["미","み","れ","を","に"],
  ["무","む","お","あ","せ"],
  ["메","め","ぬ","ね","の"],
  ["모","も","ぬ","ま","ね"],
  ["야","や","も","わ","ゆ"],
  ["유","ゆ","わ","を","ぬ"],
  ["요","よ","ね","ら","ぬ"],
  ["라","ら","わ","り","い"],
  ["리","り","い","し","ち"],
  ["루","る","を","は","ぬ"],
  ["레","れ","ね","る","わ"],
  ["로","ろ","る","わ","お"],
  ["와","わ","ね","れ","の"],
  ["오","を","ち","つ","あ"],
  ["응","ん","そ","つ","え"]
];

const kata_char2sound = [
  ["ア","아","이","치","타"],
  ["イ","이","스","네","메"],
  ["ウ","우","와","후","오"],
  ["エ","에","토","나","니"],
  ["オ","오","카","테","네"],
  ["カ","카","쿠","후","메"],
  ["キ","키","니","사","미"],
  ["ク","쿠","케","나","타"],
  ["ケ","케","쿠","타","하"],
  ["コ","코","니","요","유"],
  ["サ","사","니","에","호"],
  ["シ","시","응","츠","소"],
  ["ス","스","오","누","네"],
  ["セ","세","누","네","네"],
  ["ソ","소","응","시","츠"],
  ["タ","타","히","쿠","오"],
  ["チ","치","타","테","나"],
  ["ツ","츠","응","시","소"],
  ["テ","테","치","나","누"],
  ["ト","토","나","에","테"],
  ["ナ","나","토","에","치"],
  ["ニ","니","미","코","에"],
  ["ヌ","누","네","후","테"],
  ["ネ","네","세","누","마"],
  ["ノ","노","하","메","루"],
  ["ハ","하","후","토","노"],
  ["ヒ","히","마","무","타"],
  ["フ","후","와","오","라"],
  ["ヘ","헤","노","유","토"],
  ["ホ","호","하","나","치"],
  ["マ","마","무","후","와"],
  ["ミ","미","누","니","시"],
  ["ム","무","마","모","메"],
  ["メ","메","노","누","모"],
  ["モ","모","테","누","네"],
  ["ヤ","야","무","마","모"],
  ["ユ","유","요","코","니"],
  ["ヨ","요","라","코","유"],
  ["ラ","라","후","요","치"],
  ["リ","리","이","니","사"],
  ["ル","루","레","미","니"],
  ["レ","레","루","마","무"],
  ["ロ","로","코","카","에"],
  ["ワ","와","후","우","오"],
  ["ヲ","오","요","우","와"],
  ["ン","응","소","시","츠"]
];

const kata_sound2char = [
  ["아","ア","イ","チ","タ"],
  ["이","イ","ス","ネ","メ"],
  ["우","ウ","ワ","フ","ヲ"],
  ["에","エ","ト","ナ","ニ"],
  ["오","オ","カ","テ","ネ"],
  ["카","カ","ク","フ","メ"],
  ["키","キ","ニ","サ","ミ"],
  ["쿠","ク","ケ","ナ","タ"],
  ["케","ケ","ク","タ","ハ"],
  ["코","コ","ニ","ヨ","ユ"],
  ["사","サ","ニ","エ","ホ"],
  ["시","シ","ン","ツ","ソ"],
  ["스","ス","オ","ヌ","ネ"],
  ["세","セ","ヌ","ネ","ネ"],
  ["소","ソ","ン","シ","ツ"],
  ["타","タ","ヒ","ク","オ"],
  ["치","チ","タ","テ","ナ"],
  ["츠","ツ","ン","シ","ソ"],
  ["테","テ","チ","ナ","ヌ"],
  ["토","ト","ナ","エ","テ"],
  ["나","ナ","ト","エ","チ"],
  ["니","ニ","ミ","コ","エ"],
  ["누","ヌ","ネ","フ","テ"],
  ["네","ネ","セ","ヌ","マ"],
  ["노","ノ","ハ","メ","ル"],
  ["하","ハ","フ","ト","ノ"],
  ["히","ヒ","マ","ム","タ"],
  ["후","フ","ワ","ヲ","ラ"],
  ["헤","ヘ","ノ","ユ","ト"],
  ["호","ホ","ハ","ナ","チ"],
  ["마","マ","ム","フ","ワ"],
  ["미","ミ","ヌ","ニ","シ"],
  ["무","ム","マ","モ","メ"],
  ["메","メ","ノ","ヌ","モ"],
  ["모","モ","テ","ヌ","ネ"],
  ["야","ヤ","ム","マ","モ"],
  ["유","ユ","ヨ","コ","ニ"],
  ["요","ヨ","ラ","コ","ユ"],
  ["라","ラ","フ","ヨ","チ"],
  ["리","リ","イ","ニ","サ"],
  ["루","ル","レ","ミ","ニ"],
  ["레","レ","ル","マ","ム"],
  ["로","ロ","コ","カ","エ"],
  ["와","ワ","フ","ウ","ヲ"],
  ["오","ヲ","ヨ","ウ","ワ"],
  ["응","ン","ソ","シ","ツ"]
];

    const kanjidataset = [
      ["可", "가", "", "능", "허", "정", "가능 [可能]\n가용 [可溶]\n불가 [不可]"],
      ["角", "각", "", "용", "우", "면", "두각 [頭角]\n각도 [角度]\n각재 [角材]\n삼각 [三角]"],
      ["覚", "각", "", "견", "기", "감", "발각 [発覚]\n각오 [覚悟]\n각성 [覚醒]\n착각 [錯覚]\n감각 [感覚]"],
      ["脚", "각", "", "족", "월", "노", "각색 [脚色]\n각본 [脚本]\n실각 [失脚]\n각부 [脚部]"],
      ["間", "간", "", "문", "개", "감", "미간 [眉間]\n간첩 [間諜]\n시간 [時間]\n간식 [間食]"],
      ["干", "간", "", "천", "우", "침", "간섭 [干渉]\n간증 [干證]\n약간 [若干]"],
      ["減", "감", "", "수", "손", "가", "감소 [減少]\n감퇴 [減退]\n감세 [減税]\n증감 [増減]"],
      ["感", "감", "", "상", "성", "심", "감각 [感覚]\n감탄 [感嘆]\n감정 [感情]\n호감 [好感]"],
      ["概", "개", "", "기", "전", "요", "개요 [概要]\n기개 [気概]\n개론 [概論]"],
      ["開", "개", "", "계", "견", "구", "개발 [開発]\n개업 [開業]\n타개 [打開]\n개장 [開場]"],
      ["居", "거", "", "고", "층", "주", "주거 [住居]\n거처 [居所]\n거실 [居室]"],
      ["拠", "거", "", "확", "근", "개", "근거 [根拠]\n증거 [証拠]\n의거 [依拠]\n논거 [論拠]"],
      ["件", "건", "", "안", "경", "우", "사건 [事件]\n조건 [条件]\n건수 [件数]\n안건 [案件]"],
      ["撃", "격", "", "공", "타", "수", "타격 [打撃]\n격퇴 [撃退]\n목격 [目撃]\n공격 [攻撃]\n충격 [衝撃]"],
      ["激", "격", "", "노", "자", "논", "격론 [激論]\n감격 [感激]\n격려 [激励]\n격감 [激減]"],
      ["見", "견", "", "목", "관", "시", "견해 [見解]\n견학 [見学]\n발견 [発見]\n의견 [意見]"],
      ["決", "결", "", "단", "판", "해", "대결 [対決]\n결정 [決定]\n결렬 [決裂]\n결의 [決意]"],
      ["結", "결", "", "합", "종", "길", "결말 [結末]\n결혼 [結婚]\n결론 [結論]\n결연 [結縁]\n연결 [連結]"],
      ["兼", "겸", "", "복", "중", "임", "겸무 [兼務]\n겸용 [兼用]\n겸승 [兼縄]"],
      ["敬", "경", "", "구", "존", "예", "경어 [敬語]\n경로 [敬老]\n존경 [尊敬]\n공경 [恭敬]"],
      ["経", "경", "", "성", "제", "격", "경전 [経典]\n경과 [経過]\n불경 [仏経]\n신경 [神経]"],
      ["傾", "경", "", "편", "성", "격", "경사 [傾斜]\n경향 [傾向]\n경청 [傾聴]"],
      ["競", "경", "", "형", "쟁", "성", "경기 [競技]\n경쟁 [競争]\n경륜 [競輪]\n경매 [競売]\n경마 [競馬]"],
      ["階", "계", "", "층", "석", "단", "계급 [階級]\n계단 [階段]\n음계 [音階]\n단계 [段階]\n계층 [階層]"],
      ["孤", "고", "", "이", "도", "독", "고립 [孤立]\n고아 [孤児]\n고독 [孤独]"],
      ["雇", "고", "", "사", "호", "추", "고용 [雇用]\n해고 [解雇]"],
      ["庫", "고", "", "장", "창", "차", "차고 [車庫]\n냉장고 [冷蔵庫]\n창고 [倉庫]\n무기고 [武器庫]"],
      ["苦", "고", "", "기", "근", "곤", "고충 [苦衷]\n고통 [苦痛]\n고심 [苦心]"],
      ["共", "공", "", "구", "동", "협", "공통 [共通]\n공동 [共同]\n공공 [公共]\n공산주의 [共産主義]"],
      ["空", "공", "", "무", "허", "실", "공간 [空間]\n공중 [空中]\n공론 [空論]\n공항 [空港]\n공허 [空虚]"],
      ["攻", "공", "", "방", "수", "전", "공격 [攻撃]\n공세 [攻勢]\n전공 [専攻]\n공방 [攻防]"],
      ["果", "과", "", "목", "실", "성", "효과 [効果]\n인과 [因果]\n과일 [果物]\n과감 [果敢]"],
      ["観", "관", "", "친", "광", "신", "외관 [外観]\n관광 [観光]\n관찰 [観察]\n관측 [観測]"],
      ["関", "관", "", "계", "간", "결", "관문 [関門]\n관계 [関係]\n현관 [玄関]"],
      ["教", "교", "", "공", "소", "서", "교사 [教師]\n교육 [教育]\n교과 [教科]\n설교 [説教]\n종교 [宗教]"],
      ["較", "교", "", "차", "각", "비", "교차 [較差]\n비교 [比較]"],
      ["究", "구", "", "학", "연", "석", "탐구 [探究]\n학구 [学究]\n연구 [研究]"],
      ["球", "구", "", "옥", "탄", "왕", "지구 [地球]\n구장 [球場]\n속구 [速球]\n구단 [球団]"],
      ["権", "권", "", "친", "관", "복", "권리 [権利]\n권위 [権威]\n권력 [権力]"],
      ["貴", "귀", "", "패", "상", "존", "고귀 [高貴]\n귀금속 [貴金属]\n귀빈 [貴賓]\n귀족 [貴族]"],
      ["叫", "규", "", "구", "환", "화", "절규 [絶叫]\n규호 [叫号]\n규환 [叫喚]"],
      ["極", "극", "", "최", "절", "개", "극단 [極端]\n궁극 [究極]\n남극 [南極]\n소극 [消極]\n태극 [太極]"],
      ["劇", "극", "", "연", "단", "호", "극장 [劇場]\n연극 [演劇]\n극심 [劇甚]\n활극 [活劇]"],
      ["根", "근", "", "간", "원", "한", "근본 [根本]\n근원 [根源]\n근거 [根拠]\n구근 [球根]"],
      ["今", "금", "", "함", "정", "합", "금일 [今日]\n금주 [今週]\n금년 [今年]"],
      ["金", "금", "", "인", "은", "철", "금속 [金属]\n금융 [金融]\n세금 [税金]\n금리 [金利]\n금고 [金庫]"],
      ["級", "급", "", "단", "위", "사", "고급 [高級]\n승급 [昇級]\n중급 [中級]\n급수 [級数]\n계급 [階級]"],
      ["給", "급", "", "합", "병", "사", "지급 [支給]\n월급 [月給]\n급료 [給料]\n급식 [給食]"],
      ["気", "기", "", "강", "력", "신", "기운 [気運]\n기분 [気分]\n기체 [気体]\n기상 [気象]\n절기 [気象]"],
      ["起", "기", "", "입", "주", "발", "기상 [起床]\n기복 [起伏]\n기원 [起源]\n기용 [起用]\n기인 [起因]"],
      ["機", "기", "", "동", "목", "개", "기계 [機械]\n투기 [投機]\n기관 [機関]\n기회 [機会]\n기능 [機能]"],
      ["企", "기", "", "지", "업", "소", "기업 [企業]\n기획 [企画]"],
      ["記", "기", "", "언", "식", "증", "기재 [記載]\n기록 [記録]\n일기 [日記]\n기술 [記述]"],
      ["期", "기", "", "일", "월", "시", "기간 [期間]\n기한 [期限]\n시기 [時期]"],
      ["内", "내", "", "중", "리", "육", "내외 [内外]\n내실 [内実]\n내란 [内乱]\n내복 [内服]"],
      ["冷", "냉", "", "빙", "한", "영", "냉소 [冷笑]\n냉각 [冷却]\n냉방 [冷房]\n냉동 [冷凍]"],
      ["努", "노", "", "면", "근", "여", "노력 [努力]"],
      ["労", "노", "로", "고", "도", "소", "노동 [労働]\n피로 [疲労]\n노무 [労務]\n근로 [勤労]\n위로 [慰労]"],
      ["能", "능", "", "역", "재", "웅", "능률 [能率]\n본능 [本能]\n재능 [才能]\n예능 [芸能]\n능력 [能力]"],
      ["断", "단", "", "절", "중", "결", "횡단 [横断]\n진단 [診断]\n단념 [断念]\n절단 [切断]\n결단 [決断]"],
      ["鍛", "단", "", "금", "연", "조", "단련 [鍛錬]\n단공 [鍛工]\n단조 [鍛造]\n단철 [鍛鉄]"],
      ["壇", "단", "", "대", "탑", "차", "불단 [仏壇]\n단상 [壇上]\n화단 [花壇]"],
      ["達", "달", "", "배", "송", "도", "달성 [達成]\n달인 [達人]\n전달 [伝達]\n배달 [配達]\n득달 [得達]"],
      ["担", "담", "", "단", "낙", "엄", "담임 [担任]\n담당 [担当]\n담보 [担保]"],
      ["答", "답", "", "해", "설", "도", "답례 [答礼]\n답신 [答申]\n답사 [答辞]\n정답 [正答]\n문답 [問答]"],
      ["代", "대", "", "령", "회", "체", "대용 [代用]\n시대 [時代]\n교대 [交代]\n10대 [10代]"],
      ["台", "대", "", "판", "단", "좌", "대본 [台本]\n등대 [灯台]\n침대 [寝台]\n무대 [舞台]"],
      ["度", "도", "", "회", "수", "번", "온도 [温度]\n정도 [程度]\n제도 [制度]\n한도 [限度]"],
      ["挑", "도", "", "심", "발", "주", "도전 [挑戦]\n도발 [挑発]"],
      ["途", "도", "", "여", "로", "난", "용도 [用途]\n도중 [途中]"],
      ["盗", "도", "", "적", "차", "성", "도난 [盗難]\n도적 [盗賊]\n도촬 [盗撮]"],
      ["道", "도", "", "노", "통", "수", "보도 [報道]\n도술 [道術]\n검도 [剣道]\n복도 [複道]\n유도 [柔道]"],
      ["働", "동", "", "역", "인", "노", "가동 [稼働]\n노동 [労働]\n실동 [実働]"],
      ["頭", "두", "", "혈", "수", "면", "두각 [頭角]\n두뇌 [頭脳]\n구두 [口頭]\n염두 [念頭]\n선두 [先頭]"],
      ["登", "등", "", "발", "승", "두", "등산 [登山]\n등장 [登場]\n등판 [登板]\n등교 [登校]"],
      ["絡", "락", "", "결", "연", "각", "연락 [連絡]\n농락 [籠絡]\n맥락 [脈絡]"],
      ["録", "록", "", "금", "기", "등", "기록 [記録]\n등록 [登録]\n녹음 [録音]\n녹화 [録画]"],
      ["満", "만", "", "면", "양", "전", "만족 [満足]\n만개 [満開]\n만끽 [満喫]\n만원 [満員]\n만기 [満期]"],
      ["望", "망", "", "명", "희", "월", "욕망 [欲望]\n절망 [絶望]\n소망 [所望]"],
      ["亡", "망", "", "사", "명", "희", "망자 [亡者]\n망명 [亡命]\n도망 [逃亡]\n손망 [損亡]"],
      ["買", "매", "", "성", "취", "사", "매수 [買収]\n매매 [売買]\n구매 [購買]"],
      ["売", "매", "", "상", "취", "완", "매상 [売上]\n매매 [売買]\n판매 [販売]"],
      ["魅", "매", "", "미", "마", "명", "매력 [魅力]\n매료 [魅了]\n매혹 [魅惑]"],
      ["免", "면", "", "감", "방", "상", "면허 [免許]\n면역 [免疫]\n면제 [免除]\n면세 [免税]"],
      ["眠", "면", "", "암", "안", "민", "수면 [睡眠]\n숙면 [熟眠]\n최면 [催眠]\n휴면 [休眠]"],
      ["明", "명", "", "일", "광", "영", "문명 [文明]\n투명 [透明]\n명확 [明確]\n명랑 [明朗]\n판명 [判明]"],
      ["命", "명", "", "영", "목", "활", "운명 [運命]\n명령 [命令]\n혁명 [革命]\n수명 [寿命]\n생명 [生命]"],
      ["模", "모", "", "형", "양", "막", "모범 [模範]\n모방 [模倣]\n모색 [模索]\n모조 [模造]\n규모 [規模]"],
      ["没", "몰", "", "망", "수", "락", "몰락 [没落]\n침몰 [沈没]\n몰수 [没収]\n몰두 [没頭]\n몰상식 [没常識]"],
      ["舞", "무", "", "연", "출", "천", "무용 [舞踊]\n무대 [舞台]\n군무 [群舞]\n난무 [乱舞]"],
      ["門", "문", "", "호", "간", "개", "대문 [表門]\n전문 [専門]\n후문 [裏門]"],
      ["味", "미", "", "매", "기", "감", "미각 [味覚]\n흥미 [興味]\n음미 [吟味]\n의미 [意味]"],
      ["迫", "박", "", "주", "도", "압", "박력 [迫力]\n박해 [迫害]\n핍박 [逼迫]\n협박 [脅迫]\n박진 [迫真]"],
      ["発", "발", "", "출", "수", "기", "발명 [発明]\n발열 [発明]\n발사 [発射]\n발각 [発覚]\n발전 [発展]"],
      ["方", "방", "", "향", "만", "위", "방위 [方位]\n방침 [方針]\n지방 [地方]\n방면 [方面]\n방법 [方法]"],
      ["倣", "방", "", "모", "진", "작", "모방 [模倣]"],
      ["配", "배", "", "분", "급", "주", "배려 [配慮]\n지배 [支配]\n분배 [分配]\n배역 [配役]\n배관 [配管]"],
      ["排", "배", "", "수", "준", "비", "배제 [排除]\n배구 [排球]\n배척 [排斥]\n배출 [排出]\n배기 [排気]"],
      ["番", "번", "", "회", "호", "차", "번호 [番号]\n첫번째 [一番目]\n당번 [当番]"],
      ["範", "범", "", "모", "형", "규", "범례 [範例]\n모범 [模範]\n범위 [範囲]\n교범 [教範]"],
      ["法", "법", "", "규", "율", "결", "법률 [法律]\n법칙 [法則]\n법인 [法人]\n방법 [方法]"],
      ["変", "변", "", "현", "애", "개", "변화 [変化]\n변천 [変遷]\n변경 [変更]\n변환 [変換]"],
      ["別", "별", "", "특", "독", "벽", "결별 [決別]\n성별 [性別]\n차별 [差別]\n특별 [特別]"],
      ["病", "병", "", "환", "원", "질", "질병 [実病]\n병원 [病院]\n병근 [病根]\n병상 [病状]"],
      ["報", "보", "", "행", "고", "기", "급보 [急報]\n비보 [悲報]\n오보 [誤報]\n보고 [報告]\n전보 [電報]"],
      ["補", "보", "", "구", "형", "용", "후보 [候補]\n보상 [補償]\n보조 [補助]\n보충 [補充]"],
      ["保", "보", "", "수", "아", "현", "보호 [保護]\n보류 [保留]\n보건 [保健]\n보증 [保証]\n확보 [確保]"],
      ["腹", "복", "", "위", "하", "통", "복통 [腹痛]\n이복 [異腹]\n공복 [空腹]"],
      ["複", "복", "", "부", "중", "초", "복잡 [複雑]\n복합 [複合]\n복사 [複写]\n복수 [複数]"],
      ["復", "복", "", "부", "반", "벽", "복수 [復讐]\n복구 [復旧]\n복습 [復習]"],
      ["部", "부", "", "층", "국", "분", "부분 [部分]\n부품 [部品]\n복부 [腹部]\n치부 [恥部]"],
      ["奮", "분", "", "태", "추", "열", "분투 [奮闘]\n흥분 [興奮]\n분발 [奮発]"],
      ["分", "분", "", "도", "부", "할", "충분 [充分]\n분별 [分別]\n부분 [部分]\n구분 [区分]\n분석 [分析]"],
      ["備", "비", "", "준", "장", "인", "준비 [準備]\n불비 [不備]\n구비 [具備]\n예비 [予備]\n비품 [備品]"],
      ["秘", "비", "", "사", "은", "필", "비밀 [秘密]\n비화 [秘話]\n극비 [極秘]\n신비 [神秘]\n비서 [秘書]"],
      ["飛", "비", "", "주", "상", "승", "비행 [飛行]\n비약 [飛躍]\n비말 [飛沫]\n비상 [飛翔]"],
      ["悲", "비", "", "심", "애", "수", "비극 [悲劇]\n비애 [悲哀]\n비참 [悲惨]\n자비 [慈悲]\n비통 [悲痛]"],
      ["比", "비", "", "개", "사", "북", "비교 [比較]\n비유 [比喩]\n대비 [対比]\n비례 [比例]\n비율 [比率]"],
      ["事", "사", "", "시", "무", "구", "사고 [事故]\n사무 [事務]\n사태 [事態]\n공사 [工事]"],
      ["写", "사", "", "진", "실", "묘", "묘사 [描写]\n사진 [写真]\n필사 [筆写]\n사실적 [写実的]"],
      ["思", "사", "", "상", "심", "염", "사념 [思念]\n사상 [思想]\n사모 [思慕]\n사고 [思考]\n의사 [意思]"],
      ["産", "산", "", "생", "신", "성", "산업 [産業]\n산모 [産婦]\n유산 [流産]\n산재 [産災]"],
      ["想", "상", "", "심", "정", "연", "상상 [想像]\n예상 [予想]\n상정 [想定]\n상기 [想起]\n발상 [発想]"],
      ["商", "상", "", "매", "경", "남", "상품 [商品]\n상점 [商店]\n상인 [商人]"],
      ["上", "상", "", "고", "전", "일", "정상 [頂上]\n상향 [頂上]\n헌상 [献上]\n진상 [進上]"],
      ["翔", "상", "", "우", "비", "고", "비상 [飛翔]"],
      ["常", "상", "", "항", "보", "건", "평상 [平常]\n상식 [常識]\n비상 [非常]"],
      ["状", "상", "", "형", "태", "견", "상황 [状況]\n실상 [実状]\n죄상 [罪状]\n형상 [形状]\n상태 [状態]"],
      ["傷", "상", "", "통", "해", "복", "상해 [傷害]\n부상 [負傷]\n손상 [損傷]\n중상 [重傷]"],
      ["生", "생", "", "성", "활", "명", "생태 [生態]\n생애 [生涯]\n일생 [一生]\n인생 [人生]"],
      ["序", "서", "", "율", "요", "실", "순서 [順序]\n서열 [序列]\n질서 [秩序]"],
      ["席", "석", "", "세", "좌", "지", "착석 [着席]\n좌석 [座席]\n출석 [出席]"],
      ["析", "석", "", "근", "단", "준", "분석 [分析]\n해석 [解析]\n석출 [析出]"],
      ["旋", "선", "", "발", "방", "정", "알선 [斡旋]\n주선 [周旋]\n나선 [螺旋]\n선회 [旋回]\n개선 [凱旋]"],
      ["先", "선", "", "우", "전", "초", "선생 [先生]\n선두 [先頭]\n선배 [先輩]\n선봉 [先鋒]"],
      ["線", "선", "", "사", "신", "신", "광선 [光線]\n노선 [路線]\n선분 [線分]\n수평선 [水平線]"],
      ["選", "선", "", "거", "발", "당", "선거 [選挙]\n선수 [選手]\n선발 [選抜]\n당선 [当選]"],
      ["鮮", "선", "", "양", "신", "어", "선도 [鮮度]\n선명 [鮮明]\n선혈 [鮮血]\n신선 [新鮮]"],
      ["説", "설", "", "언", "담", "화", "설명 [説明]\n연설 [演説]\n전설 [伝説]\n해설 [解説]\n소설 [小説]"],
      ["設", "설", "", "언", "건", "성", "설립 [設立]\n설비 [設備]\n시설 [施設]\n증설 [増設]\n창설 [創設]"],
      ["声", "성", "", "음", "원", "사", "음성 [音声]\n성원 [声援]\n성우 [声優]\n환성 [歓声]"],
      ["性", "성", "", "심", "정", "생", "성격 [性格]\n특성 [特性]\n성별 [性別]\n성질 [性質]\n본성 [本性]"],
      ["成", "성", "", "과", "완", "달", "성취 [成就]\n성적 [成績]\n찬성 [賛成]\n성인 [成人]"],
      ["細", "세", "", "사", "실", "선", "상세 [詳細]\n세포 [細胞]\n세심 [細心]\n세공 [細工]"],
      ["洗", "세", "", "선", "정", "청", "세탁 [洗濯]\n세안 [洗顔]\n세제 [洗剤]"],
      ["少", "소", "", "서", "생", "약", "소녀 [少女]\n소수 [少数]\n감소 [減少]\n사소 [些少]\n소소 [少少]"],
      ["掃", "소", "", "수", "습", "식", "소멸 [掃滅]\n일소 [一掃]\n청소 [清掃]\n소제 [掃除]"],
      ["速", "속", "", "급", "조", "동", "급속 [急速]\n속도 [速度]\n속보 [速報]\n속결 [速決]"],
      ["授", "수", "", "교", "여", "송", "교수 [教授]\n수여 [授与]\n전수 [伝授]\n수정 [授精]\n수업 [授業]"],
      ["秀", "수", "", "위", "화", "우", "우수 [優秀]\n준수 [俊秀]\n수재 [秀才]\n수려 [秀麗]\n수작 [秀作]"],
      ["首", "수", "", "두", "자", "초", "부수 [部首]\n수상 [首相]\n수도 [首都]\n참수 [斬首]"],
      ["須", "수", "", "요", "석", "순", "필수 [必須]"],
      ["受", "수", "", "애", "우", "조", "접수 [受付]\n수강 [受講]\n수납 [受納]\n수상 [受賞]\n수취 [受取]"],
      ["讐", "수", "", "주", "원", "적", "원수 [怨讐]\n수적 [讐敵]\n복수 [復讐]"],
      ["順", "순", "", "종", "화", "조", "순번 [順番]\n순서 [順序]\n불순 [不順]\n순조 [順調]"],
      ["術", "술", "", "행", "기", "예", "미술 [美術]\n기술 [技術]\n주술 [呪術]\n검술 [剣術]"],
      ["習", "습", "", "연", "관", "인", "습득 [習得]\n연습 [練習]\n습관 [習慣]\n학습 [学習]\n풍습 [風習]"],
      ["勝", "승", "", "극", "포", "위", "우승 [優勝]\n승리 [勝利]\n승패 [勝敗]\n결승 [決勝]"],
      ["昇", "승", "", "신", "등", "일", "상승 [上昇]\n승격 [昇格]\n승천 [昇天]\n승진 [昇進]\n승강기 [昇降機]"],
      ["試", "시", "", "식", "험", "검", "시험 [試験]\n시합 [試合]\n시도 [試図]\n시행 [試行]"],
      ["市", "시", "", "정", "촌", "장", "도시 [都市]\n시장 [市場]\n시민 [市民]"],
      ["視", "시", "", "선", "친", "권", "시야 [視野]\n시선 [視線]\n시각 [視覚]\n시점 [視点]"],
      ["識", "식", "", "언", "지", "기", "상식 [常識]\n지식 [知識]\n박식 [博識]\n식견 [識見]"],
      ["式", "식", "", "시", "전", "형", "격식 [格式]\n형식 [形式]\n식사 [式辞]\n수식 [数式]"],
      ["神", "신", "", "시", "영", "사", "귀신 [鬼神]\n신기 [神気]\n신비 [神秘]\n정신 [精神]\n신경 [神経]"],
      ["新", "신", "", "친", "초", "근", "혁신 [革新]\n신입 [新入]\n신규 [新規]\n신문 [新聞]"],
      ["室", "실", "", "가", "옥", "면", "거실 [居室]\n황실 [皇室]\n내실 [內室]\n교실 [教室]"],
      ["失", "실", "", "락", "망", "패", "실패 [失敗]\n실례 [失礼]\n실업 [失業]\n실연 [失恋]\n과실 [過失]"],
      ["深", "심", "", "수", "림", "천", "심야 [深夜]\n심해 [深海]"],
      ["十", "십", "", "간", "사", "백", "십대 [十代]\n십자 [十字]\n십분 [十分]\n십상 [十想]"],
      ["楽", "악", "락", "천", "결", "선", "음악 [音楽]\n안락 [安楽]\n낙관 [楽観]\n악기 [楽器]"],
      ["悪", "악", "", "심", "아", "혐", "악습 [悪習]\n사악 [邪悪]\n악행 [悪行]\n악화 [悪貨]"],
      ["安", "안", "", "평", "온", "한", "안전 [安全]\n안심 [安心]\n안정 [安定]\n안이 [安易]"],
      ["暗", "암", "", "음", "언", "명", "암흑 [暗黒]\n암기 [暗記]\n명암 [明暗]\n암암리 [暗暗裏]"],
      ["癌", "암", "", "병", "종", "체", "장암 [腸癌]\n암세포 [癌細胞]\n위암 [胃癌]"],
      ["圧", "압", "", "장", "액", "박", "압력 [圧力]\n압박 [圧迫]\n압도 [圧倒]\n압축 [圧倒]\n기압 [圧倒]"],
      ["液", "액", "", "암", "야", "유", "액체 [液体]\n액상 [液相]\n혈액 [血液]"],
      ["額", "액", "", "안", "치", "금", "거액 [巨額]\n총액 [総額]\n액면 [額面]\n금액 [金額]"],
      ["野", "야", "", "원", "전", "예", "평야 [平野]\n야채 [野菜]\n야욕 [野欲]\n야당 [野党]\n야생 [野生]"],
      ["若", "약", "", "고", "초", "유", "약간 [若干]"],
      ["約", "약", "", "작", "계", "정", "약속 [約束]\n요약 [要約]\n검약 [倹約]"],
      ["弱", "약", "", "연", "병", "우", "약육 [弱肉]\n쇠약 [衰弱]\n미약 [微弱]\n약점 [弱点]"],
      ["薬", "약", "", "의", "치", "초", "독약 [毒薬]\n탄약 [弾薬]\n화약 [火薬]\n마약 [麻薬]"],
      ["略", "약", "략", "격", "석", "축", "약탈 [略奪]\n약도 [略図]\n생략 [省略]\n침략 [侵略]\n개략 [概略]"],
      ["養", "양", "", "육", "성", "식", "양호 [養護]\n양분 [養分]\n양성 [養成]\n양자 [養子]"],
      ["良", "양", "량", "식", "선", "미", "양호 [良好]\n우량 [優良]\n불량 [不良]\n개량 [改良]"],
      ["様", "양", "", "상", "연", "태", "모양 [模様]\n양식 [様式]"],
      ["両", "양", "량", "면", "공", "상", "양립 [両立]\n양측 [両側]\n차량 [車両]\n양완 [両腕]\n양호 [両虎]"],
      ["糧", "양", "량", "영", "조", "곡", "식량 [食糧]\n양곡 [糧穀]\n양미 [糧米]"],
      ["語", "어", "", "언", "오", "기", "언어 [言語]\n속어 [俗語]\n어원 [語源]\n어절 [語節]\n문어 [文語]"],
      ["御", "어", "", "억", "치", "사", "어좌 [御座]\n방어 [防御]\n어람 [御覧]\n어사 [御史]\n어의 [御衣]"],
      ["言", "언", "", "구", "화", "어", "언어 [言語]\n언행 [言行]\n발언 [発言]"],
      ["業", "업", "", "직", "무", "산", "직업 [職業]\n공업 [工業]\n업적 [業績]\n업무 [業務]\n업보 [業報]"],
      ["旅", "여", "", "원", "행", "방", "여행 [旅行]\n여관 [旅館]\n여권 [旅券]\n여정 [旅情]"],
      ["余", "여", "", "방", "과", "유", "여유 [余裕]\n여분 [余分]\n여흥 [余興]\n여죄 [余罪]"],
      ["訳", "역", "", "통", "어", "차", "번역 [翻訳]\n내역 [内訳]"],
      ["力", "역", "력", "도", "능", "강", "매력 [魅力]\n권력 [権力]\n역량 [力量]\n저력 [底力]"],
      ["役", "역", "", "척", "임", "무", "역할 [役割]\n배역 [配役]\n징역 [懲役]\n용역 [用役]"],
      ["縁", "연", "", "인", "체", "우", "인연 [因縁]\n연고 [縁故]"],
      ["演", "연", "", "인", "영", "이", "연습 [演習]\n연기 [演技]\n연주 [演奏]\n연극 [演劇]"],
      ["沿", "연", "", "심", "선", "암", "연안 [沿岸]\n연선 [沿線]\n연도 [沿道]\n연혁 [沿革]"],
      ["連", "연", "락", "속", "접", "차", "연맹 [連盟]\n연락 [連絡]\n연속 [連続]\n연행 [連行]\n연일 [連日]"],
      ["恋", "연", "", "애", "정", "사", "연애 [恋愛]\n연인 [恋人]\n연정 [恋心]\n실연 [失恋]"],
      ["研", "연", "", "견", "구", "면", "연구 [研究]\n연수 [研修]"],
      ["熱", "열", "", "서", "연", "염", "발열 [発熱]\n흡열 [吸熱]\n열정 [熱情]\n열심 [熱心]\n열중 [熱中]"],
      ["念", "염", "념", "심", "금", "상", "기념 [記念]\n염려 [念慮]\n개념 [概念]\n신념 [信念]\n염원 [念願]"],
      ["英", "영", "", "화", "우", "재", "영국 [英国]\n영어 [英語]\n영문 [英文]"],
      ["映", "영", "", "암", "임", "사", "영화 [映画]\n영상 [映像]\n반영 [反映]\n투영 [投映]"],
      ["令", "영", "령", "명", "냉", "법", "영장 [令状]\n법령 [法令]\n명령 [命令]\n지령 [指令]"],
      ["領", "영", "령", "통", "총", "혁", "영토 [領土]\n대통령 [大統領]\n요령 [要領]\n점령 [占領]\n영수증 [領収書]"],
      ["影", "영", "", "양", "음", "경", "촬영 [撮影]\n영향 [影響]\n투영 [投影]\n환영 [幻影]\n음영 [陰影]"],
      ["例", "예", "례", "안", "범", "열", "예제 [例題]\n용례 [用例]\n조례 [条例]\n판례 [判例]\n예외 [例外]"],
      ["礼", "예", "례", "의", "배", "선", "실례 [失礼]\n답례 [返礼]\n혼례 [婚礼]\n경례 [敬礼]\n예복 [礼服]"],
      ["芸", "예", "", "운", "화", "기", "예능 [芸能]\n원예 [園芸]\n공예 [工芸]\n예능 [芸能]\n예술 [芸術]"],
      ["予", "예", "", "요", "약", "여", "예약 [予約]\n예상 [予想]\n예습 [予習]\n예산 [予算]"],
      ["汚", "오", "", "강", "유", "예", "오염 [汚染]\n오점 [汚点]\n오명 [汚名]\n오물 [汚物]"],
      ["屋", "옥", "", "가", "점", "정", "사옥 [社屋]\n옥상 [屋上]\n가옥 [家屋]\n한옥 [韓屋]"],
      ["往", "왕", "", "영", "주", "거", "왕래 [往来]\n왕복 [往復]\n왕진 [往診]"],
      ["要", "요", "", "서", "여", "유", "요령 [要領]\n필요 [必要]\n요점 [要点]\n요약 [要約]\n요청 [要請]"],
      ["療", "요", "료", "치", "사", "정", "치료 [治療]\n요법 [療法]\n요양 [療養]\n진료 [診療]"],
      ["料", "요", "료", "재", "가", "이", "재료 [材料]\n자료 [資料]\n요금 [料金]\n요리 [料理]\n유료 [有料]"],
      ["用", "용", "", "사", "중", "인", "용도 [用途]\n용건 [用件]\n이용 [利用]\n유용 [有用]\n용품 [用品]"],
      ["優", "우", "", "유", "양", "온", "우수 [優秀]\n우월 [優越]\n배우 [俳優]\n우유부단 [優柔不断]"],
      ["運", "운", "", "은", "연", "전", "운송 [運送]\n운수 [運数]\n운동 [運動]\n운명 [運命]\n운전 [運転]"],
      ["遠", "원", "", "장", "근", "운", "원근 [遠近]\n영원 [永遠]\n원격 [遠隔]"],
      ["員", "원", "", "운", "임", "인", "공무원 [公務員]\n특파원 [特派員]\n임원 [役員]\n의원 [議員]"],
      ["園", "원", "", "압", "정", "위", "공원 [公園]\n원예 [園芸]\n화원 [花園]\n유치원 [幼稚園]"],
      ["委", "위", "", "이", "은", "임", "위원 [委員]\n위탁 [委託]\n위임 [委任]"],
      ["威", "위", "", "성", "력", "세", "위력 [威力]\n위세 [威勢]\n위엄 [威厳]\n위압 [威圧]"],
      ["囲", "위", "", "원", "계", "정", "주위 [周囲]\n포위 [包囲]\n위기 [囲碁]\n범위 [範囲]"],
      ["危", "위", "", "액", "험", "경", "안위 [安危]\n위급 [危急]\n위기 [危機]\n위독 [危篤]\n위태 [危殆]"],
      ["油", "유", "", "오", "주", "수", "유화 [油絵]\n석유 [石油]"],
      ["遺", "유", "", "류", "증", "적", "유산 [遺産]\n유언 [遺言]\n유물 [遺物]\n유적 [遺跡]\n유실 [遺失]"],
      ["流", "유", "", "첨", "파", "심", "유행 [流行]\n역류 [逆流]\n유실 [流失]\n유포 [流布]"],
      ["類", "유", "류", "예", "인", "영", "유추 [類推]\n유사 [類似]\n분류 [分類]\n파충류 [爬虫類]"],
      ["育", "육", "", "교", "양", "체", "육성 [育成]\n발육 [発育]"],
      ["律", "율", "", "음", "선", "금", "율동 [律動]\n계율 [戒律]\n선율 [旋律]\n타율 [他律]"],
      ["隠", "은", "", "온", "운", "연", "은거 [隠居]\n은폐 [隠蔽]\n측은 [惻隠]"],
      ["音", "음", "", "언", "성", "문", "음정 [音程]\n음율 [音律]\n음색 [音色]\n음성 [音声]"],
      ["応", "응", "", "급", "답", "승", "응모 [応募]\n응원 [応援]\n응답 [応答]\n응대 [応対]\n응접 [応接]"],
      ["意", "의", "", "이", "인", "언", "의미 [意味]\n의견 [意見]\n의도 [意図]\n의지 [意志]\n고의 [故意]"],
      ["衣", "의", "", "복", "장", "이", "의상 [衣装]\n의복 [衣服]\n의식주 [衣食住]"],
      ["医", "의", "", "치", "약", "사", "의사 [医師]\n의학 [医学]\n군의 [軍医]\n의료 [医療]"],
      ["依", "의", "", "신", "거", "주", "의뢰 [依頼]\n의존 [依存]\n의연 [依然]\n의거 [依拠]"],
      ["議", "의", "", "양", "정", "논", "토의 [討議]\n의논 [議論]\n의회 [議会]\n의장 [議長]\n의제 [議題]"],
      ["疑", "의", "", "미", "오", "시", "의문 [疑問]\n의혹 [疑惑]\n의심 [疑心]"],
      ["儀", "의", "", "식", "예", "연", "의식 [儀式]\n예의 [礼儀]\n축의금 [祝儀]\n의례적 [儀礼的]"],
      ["異", "이", "", "기", "의", "인", "이상 [異常]\n이단 [異常]\n이의 [異議]\n이견 [異見]"],
      ["移", "이", "", "안", "식", "의", "이전 [移転]\n이식 [移植]\n이동 [移動]"],
      ["以", "이", "", "사", "유", "어", "이외 [以外]\n이하 [以下]\n이내 [以内]\n이전 [以前]"],
      ["裏", "이", "리", "내", "배", "표", "이면 [裏面]\n뇌리 [脳裏]\n암암리 [暗暗裏]\n표리 [表裏]"],
      ["利", "이", "리", "도", "권", "익", "이익 [利益]\n이용 [利用]\n영리 [営利]\n이자 [営利]\n이윤 [利潤]"],
      ["益", "익", "", "명", "이", "존", "이익 [利益]\n손익 [損益]\n익충 [益虫]\n익체 [益体]"],
      ["印", "인", "", "각", "증", "연", "인상 [印象]\n인장 [印章]\n낙인 [烙印]\n인쇄 [印刷]"],
      ["逸", "일", "", "도", "탈", "주", "일주 [逸走]\n안일 [安逸]\n일탈 [逸脱]\n일재 [逸材]"],
      ["立", "입", "립", "두", "설", "성", "입장 [立場]\n중립 [中立]\n설립 [設立]\n입지 [立地]\n국립 [国立]"],
      ["資", "자", "", "패", "재", "부", "자료 [資料]\n자격 [資格]\n자본 [資本]\n자원 [資源]\n자산 [資産]"],
      ["刺", "자", "", "검", "살", "돌", "풍자 [風刺]\n자객 [刺客]\n자극 [刺激]"],
      ["自", "자", "", "목", "기", "신", "자신 [自身]\n자연 [自然]\n자기 [自己]\n자습 [自習]"],
      ["雑", "잡", "", "복", "집", "혁", "잡무 [雑務]\n번잡 [煩雑]\n잡화 [雑貨]"],
      ["張", "장", "", "확", "과", "정", "확장 [拡張]\n과장 [誇張]\n주장 [主張]\n긴장 [緊張]"],
      ["長", "장", "", "고", "대", "상", "연장 [延長]\n장마 [長雨]\n사장 [社長]\n장점 [長所]\n장녀 [長女]"],
      ["場", "장", "", "토", "지", "양", "입장 [立場]\n등장 [登場]\n장내 [場内]\n농장 [農場]\n매장 [売場]"],
      ["障", "장", "", "한", "부", "형", "지장 [支障]\n장애 [障害]"],
      ["材", "재", "", "요", "자", "삼", "재료 [材料]\n목재 [木材]\n재질 [材質]"],
      ["在", "재", "", "존", "유", "좌", "건재 [健在]\n산재 [散在]\n체재 [滞在]\n존재 [存在]\n현재 [顕在]"],
      ["災", "재", "", "화", "전", "진", "재난 [災難]\n재해 [災害]\n재앙 [災殃]"],
      ["争", "쟁", "", "경", "전", "투", "투쟁 [闘争]\n분쟁 [紛争]\n쟁점 [争点]\n쟁론 [争論]"],
      ["跡", "적", "", "거", "영", "족", "유적 [遺跡]\n흔적 [痕跡]\n추적 [追跡]\n인적 [人跡]"],
      ["的", "적", "", "정", "지", "좌", "표적 [標的]\n적중 [的中]\n적확 [的確]\n극적 [劇的]"],
      ["敵", "적", "", "수", "전", "성", "적의 [敵意]\n적수 [敵手]\n적군 [敵軍]"],
      ["績", "적", "", "정", "청", "사", "성적 [成績]\n공적 [功績]\n실적 [実績]\n방적 [紡績]"],
      ["籍", "적", "", "장", "부", "녹", "국적 [国籍]\n호적 [戸籍]\n학적 [学籍]\n이적 [移籍]\n제적 [除籍]"],
      ["戦", "전", "", "투", "단", "작", "전쟁 [戦争]\n전투 [戦闘]\n전사 [戦死]\n전율 [戦慄]"],
      ["専", "전", "", "차", "수", "박", "전공 [専攻]\n전념 [専念]\n전속 [専属]\n전임 [専任]"],
      ["節", "절", "", "시", "계", "대", "조절 [調節]\n관절 [関節]\n일절 [一節]\n결절 [結節]\n명절 [名節]"],
      ["点", "점", "", "정", "인", "원", "점수 [点数]\n쟁점 [争点]\n약점 [弱点]\n맹점 [盲点]\n종점 [終点]"],
      ["静", "정", "", "청", "쟁", "장", "정숙 [静粛]\n정지 [静止]\n냉정 [冷静]\n동정 [動静]\n정맥 [静脈]"],
      ["定", "정", "", "청", "결", "안", "정기 [定期]\n정식 [定式]\n정규 [定規]\n결정 [決定]\n선정 [選定]"],
      ["停", "정", "", "지", "중", "장", "정지 [停止]\n정거 [停車]\n정전 [停電]\n정류장 [停留場]"],
      ["正", "정", "", "성", "지", "진", "개정 [改正]\n수정 [修正]\n정면 [正面]\n정의 [正義]"],
      ["情", "정", "", "청", "심", "감", "감정 [感情]\n정감 [情感]\n풍정 [風情]\n사정 [事情]"],
      ["除", "제", "", "소", "감", "거", "제외 [除外]\n면제 [免除]\n절제 [切除]\n제거 [除去]\n제습 [除湿]"],
      ["剤", "제", "", "도", "약", "의", "세제 [洗剤]\n조제 [調剤]\n해열제 [解熱剤]\n살충제 [殺虫剤]"],
      ["制", "제", "", "규", "한", "도", "억제 [抑制]\n제한 [制限]\n제도 [制度]\n제약 [制約]"],
      ["潮", "조", "", "해", "류", "도", "조류 [潮流]\n만조 [満潮]\n사조 [思潮]\n홍조 [紅潮]\n사조 [史潮]"],
      ["調", "조", "", "언", "정", "전", "조정 [調整]\n순조 [順調]\n장조 [長調]\n조제 [調剤]\n조화 [調和]"],
      ["条", "조", "", "지", "장", "정", "조건 [条件]\n조례 [条例]\n조리 [条理]\n조목 [条目]\n신조 [信条]"],
      ["造", "조", "", "각", "건", "작", "조작 [造作]\n개조 [改造]\n모조 [模造]\n조성 [造成]\n창조 [創造]"],
      ["族", "족", "", "방", "석", "민", "친족 [親族]\n가족 [家族]\n황족 [皇族]\n혈족 [血族]\n족장 [族長]"],
      ["存", "존", "", "재", "보", "자", "존재 [存在]\n실존 [実存]\n기존 [既存]\n보존 [保存]\n존속 [存続]"],
      ["座", "좌", "", "석", "의", "엄", "좌석 [座席]\n좌담 [座談]\n좌식 [座式]\n계좌 [口座]\n좌표 [座標]"],
      ["罪", "죄", "", "범", "사", "악", "죄인 [罪人]\n유죄 [有罪]\n죄악 [罪悪]"],
      ["周", "주", "", "권", "원", "제", "주기 [周期]\n원주 [円周]\n일주 [一周]"],
      ["走", "주", "", "토", "대", "기", "주행 [走行]\n도주 [逃走]\n폭주 [暴走]\n탈주 [脱走]"],
      ["中", "중", "", "구", "내", "차", "중립 [中立]\n좌중 [座中]\n수중 [水中]\n공중 [空中]\n중독 [中毒]"],
      ["即", "즉", "", "직", "속", "한", "즉석 [即席]\n즉사 [即死]\n즉위 [即位]\n즉각 [即刻]"],
      ["証", "증", "", "정", "인", "명", "증거 [証拠]\n증명 [証明]\n증언 [証言]\n증권 [証券]"],
      ["地", "지", "", "토", "역", "치", "지면 [地面]\n토지 [土地]\n지방 [地方]\n지역 [地域]"],
      ["止", "지", "", "정", "휴", "금", "정지 [停止]\n금지 [禁止]\n지혈 [止血]\n지양 [止揚]\n폐지 [廃止]"],
      ["知", "지", "", "시", "식", "정", "지능 [知能]\n지혜 [知恵]\n통지 [通知]\n탐지 [探知]\n공지 [公知]"],
      ["支", "지", "", "우", "불", "배", "지급 [支給]\n지배 [支配]\n지원 [支援]\n지장 [支障]\n수지 [収支]"],
      ["志", "지", "", "의", "사", "망", "의지 [意志]\n투지 [闘志]\n지망 [志望]\n지향 [志向]"],
      ["職", "직", "", "식", "사", "업", "구직 [求職]\n사직 [辞職]\n본직 [本職]\n직업 [職業]"],
      ["震", "진", "", "설", "우", "운", "지진 [地震]\n진동 [震動]\n진원 [震源]"],
      ["進", "진", "", "승", "선", "착", "진전 [進展]\n진보 [進歩]\n진상 [進上]\n진행 [進行]"],
      ["診", "진", "", "연", "간", "검", "진단 [診断]\n진찰 [診察]\n진료 [診療]"],
      ["真", "진", "", "실", "십", "정", "사진 [写真]\n순진 [純真]\n진실 [真実]\n진가 [真価]"],
      ["質", "질", "", "문", "윤", "가", "질량 [質量]\n물질 [物質]\n언질 [言質]\n성질 [性質]\n질문 [質問]"],
      ["秩", "질", "", "율", "법", "실", "질서 [秩序]"],
      ["集", "집", "", "추", "취", "회", "집중 [集中]\n집합 [集合]\n집결 [集結]\n전집 [全集]\n편집 [編集]"],
      ["執", "집", "", "지", "고", "행", "집요 [執拗]\n집착 [執着]\n집권 [執権]\n고집 [固執]\n집념 [執念]"],
      ["次", "차", "", "제", "번", "회", "차석 [次席]\n차례 [次第]\n차회 [次回]\n삼회차 [三回次]"],
      ["差", "차", "", "자", "선", "사", "차이 [差異]\n차등 [差等]\n오차 [誤差]\n차별 [差別]"],
      ["着", "착", "", "도", "계", "의", "착석 [着席]\n결착 [決着]\n도착 [到着]\n착의 [着衣]\n착수 [着手]"],
      ["窓", "창", "", "심", "호", "벽", "창문 [窓門]\n동창 [同窓]\n선창 [船窓]\n차창 [車窓]"],
      ["菜", "채", "", "초", "과", "야", "채식 [菜食]\n야채 [野菜]"],
      ["薦", "천", "", "추", "권", "거", "추천 [推薦]\n공천 [公薦]\n천거 [薦挙]\n자천 [自薦]"],
      ["天", "천", "", "일", "대", "공", "천직 [天職]\n승천 [昇天]\n천장 [天井]\n천재 [天才]\n천문 [天文]"],
      ["哲", "철", "", "사", "절", "석", "철인 [哲人]\n명철 [明哲]\n철학 [哲学]"],
      ["清", "청", "", "정", "양", "수", "청량 [清涼]\n청정 [清浄]\n청순 [清純]\n청아 [清雅]"],
      ["体", "체", "", "신", "건", "태", "체감 [体感]\n체험 [体験]\n체재 [体裁]\n물체 [物体]\n고체 [固体]"],
      ["総", "총", "", "공", "전", "사", "총액 [総額]\n총합 [総合]\n총점 [総点]\n총량 [総量]"],
      ["推", "추", "", "압", "지", "수", "추천 [推薦]\n추이 [推移]\n추측 [推測]\n추진 [推進]\n추리 [推理]"],
      ["畜", "축", "", "전", "현", "목", "축산 [畜産]\n가축 [家畜]\n축사 [畜舎]"],
      ["酔", "취", "", "유", "주", "만", "심취 [心酔]\n취객 [酔客]\n만취 [泥酔]"],
      ["就", "취", "", "득", "경", "습", "취직 [就職]\n취학 [就学]\n취임 [就任]\n성취 [成就]"],
      ["層", "층", "", "계", "증", "검", "지층 [地層]\n심층 [深層]\n계층 [階層]\n연령층 [年齢層]"],
      ["則", "칙", "", "규", "법", "범", "규칙 [規則]\n벌칙 [罰則]\n원칙 [原則]\n법칙 [法則]"],
      ["親", "친", "", "신", "견", "선", "친척 [親戚]\n치밀 [親密]\n친선 [親善]\n친분 [親交]\n모친 [母親]"],
      ["沈", "침", "", "심", "낙", "변", "격침 [撃沈]\n침몰 [沈没]\n침체 [沈滞]\n침전 [沈殿]\n침착 [沈着]"],
      ["侵", "침", "", "신", "범", "공", "침입 [侵入]\n침략 [侵略]\n침범 [侵犯]\n침입 [侵入]"],
      ["快", "쾌", "", "결", "유", "과", "경쾌 [軽快]\n상쾌 [爽快]\n쾌감 [快感]\n쾌청 [快晴]"],
      ["託", "탁", "", "배", "험", "임", "청탁 [請託]\n위탁 [委託]\n결탁 [結託]\n탁아소 [託児所]"],
      ["脱", "탈", "", "낙", "태", "복", "탈피 [脱皮]\n탈퇴 [脱退]\n탈출 [脱出]\n해탈 [解脱]\n탈락 [脱落]"],
      ["態", "태", "", "도", "양", "상", "태도 [態度]\n형태 [形態]\n상태 [状態]\n사태 [事態]"],
      ["択", "택", "", "채", "척", "혁", "채택 [採択]\n선택 [選択]\n택일 [択一]"],
      ["通", "통", "", "행", "도", "방", "통과 [通過]\n신통 [神通]\n교통 [交通]\n통보 [通報]\n보통 [普通]"],
      ["痛", "통", "", "고", "상", "해", "통쾌 [痛快]\n통분 [痛憤]\n고통 [苦痛]"],
      ["退", "퇴", "", "한", "간", "인", "퇴학 [退学]\n퇴직 [退職]\n퇴원 [退院]\n격퇴 [撃退]\n후퇴 [後退]"],
      ["闘", "투", "", "전", "방", "공", "투지 [闘志]\n전투 [戦闘]\n투우 [闘牛]\n투쟁 [闘争]\n분투 [奮闘]"],
      ["透", "투", "", "통", "착", "조", "투철 [透徹]\n투시 [透視]\n투과 [透過]\n투명 [透明]\n투사 [透写]"],
      ["特", "특", "", "독", "별", "벽", "독특 [独特]\n특별 [特別]\n기특 [奇特]\n특수 [特殊]"],
      ["波", "파", "", "피", "수", "심", "파동 [波動]\n파급 [波及]\n파란 [波乱]\n파도 [波濤]"],
      ["判", "판", "", "재", "결", "반", "비판 [批判]\n평판 [評判]\n판단 [判断]\n담판 [談判]\n재판 [裁判]"],
      ["評", "평", "", "언", "안", "행", "비평 [批評]\n평가 [評価]\n평론 [評論]\n평점 [評点]"],
      ["胞", "포", "", "승", "극", "위", "세포 [細胞]\n포자 [胞子]\n동포 [同胞]\n포궁 [胞宮]"],
      ["暴", "폭", "", "염", "노", "공", "폭발 [暴発]\n폭로 [暴露]\n폭도 [暴徒]\n폭락 [暴落]"],
      ["品", "품", "", "물", "상", "경", "제품 [製品]\n납품 [納品]\n인품 [人品]\n품격 [品格]\n품평 [品評]"],
      ["被", "피", "", "파", "수", "의", "피해 [被害]\n피고 [被告]\n피복 [被覆]\n피의자 [被疑者]"],
      ["必", "필", "", "사", "심", "수", "필수 [必須]\n필승 [必勝]\n필살 [必殺]\n필연 [必然]\n필요 [必要]"],
      ["学", "학", "", "교", "습", "선", "휴학 [休学]\n문학 [文学]\n학문 [学問]\n학술 [学術]"],
      ["限", "한", "", "경", "제", "간", "한계 [限界]\n한도 [限度]\n한정 [限定]\n최대한 [最大限]"],
      ["割", "할", "", "배", "분", "도", "분할 [分割]\n할복 [割腹]\n할애 [割愛]\n역할 [役割]"],
      ["合", "합", "", "회", "령", "집", "합동 [合同]\n합격 [合格]\n합계 [合計]"],
      ["解", "해", "", "도", "설", "답", "견해 [見解]\n분해 [分解]\n오해 [誤解]\n해결 [解決]\n해열 [解熱]"],
      ["害", "해", "", "장", "위", "험", "해충 [害虫]\n해악 [害悪]\n피해 [被害]"],
      ["行", "행", "", "주", "도", "정", "행동 [行動]\n실행 [実行]\n행사 [行事]\n흥행 [興行]\n행각 [行脚]"],
      ["響", "향", "", "음", "응", "반", "음향 [音響]\n영향 [影響]\n반향 [反響]\n여향 [余響]"],
      ["向", "향", "", "방", "대", "경", "방향 [方向]\n경향 [傾向]\n외향 [外向]\n편향 [偏向]\n향후 [向後]"],
      ["験", "험", "", "검", "경", "마", "시험 [試験]\n경험 [経験]\n수험 [受験]\n체험 [体験]\n실험 [実験]"],
      ["険", "험", "", "경", "혁", "강", "위험 [危険]\n보험 [保険]\n모험 [冒険]\n험난 [険難]\n험준 [険峻]"],
      ["現", "현", "", "출", "재", "전", "표현 [表現]\n구현 [具現]\n현재 [現在]\n현대 [現代]\n현실 [現実]"],
      ["形", "형", "", "상", "체", "태", "형태 [形態]\n형용사 [形容詞]\n인형 [人形]\n형상 [形象]"],
      ["護", "호", "", "언", "수", "방", "호위 [護衛]\n수호 [守護]\n호송 [護送]\n구호 [救護]"],
      ["好", "호", "", "여", "애", "고", "호불호 [好不好]\n호색 [好色]\n호의 [好意]\n호기 [好機]"],
      ["号", "호", "", "번", "명", "차", "번호 [番号]\n기호 [記号]\n신호 [信号]\n호외 [号外]\n암호 [暗号]"],
      ["戸", "호", "", "일", "시", "문", "호적 [戸籍]\n호호 [戸戸]\n문호 [門戸]"],
      ["惑", "혹", "", "혁", "상", "식", "유혹 [誘惑]\n매혹 [魅惑]\n혹성 [惑星]\n의혹 [疑惑]"],
      ["化", "화", "", "개", "애", "성", "화학 [化学]\n변화 [変化]\n화석 [化石]\n문화 [文化]\n소화 [消化]"],
      ["和", "화", "", "와", "지", "조", "화목 [和睦]\n융화 [融和]\n조화 [調和]\n화해 [和解]"],
      ["華", "화", "", "영", "초", "수", "화려 [華麗]\n호화 [豪華]\n화교 [華僑]"],
      ["花", "화", "", "초", "운", "불", "화단 [花壇]\n개화 [開花]\n화분 [花粉]\n낙화 [落花]"],
      ["確", "확", "", "석", "적", "식", "확신 [確信]\n확보 [確保]\n확증 [確証]\n정확 [正確]\n명확 [明確]"],
      ["況", "황", "", "상", "경", "형", "현황 [現況]\n호황 [好況]\n실황 [実況]"],
      ["絵", "회", "", "화", "도", "풍", "회화 [絵画]"],
      ["会", "회", "", "화", "집", "의", "사회 [司会]\n의회 [議会]\n회계 [会計]\n회사 [会社]\n회의 [会議]"],
      ["獲", "획", "", "득", "수", "포", "획득 [獲得]\n획취 [獲取]\n포획 [捕獲]"],
      ["後", "후", "", "대", "도", "말", "후방 [後方]\n후진 [後進]\n최후 [最後]"],
      ["候", "후", "", "대", "사", "적", "기후 [気候]\n징후 [徴候]\n증후 [症候]\n후보 [候補]"],
      ["興", "흥", "", "성", "희", "행", "흥미 [興味]\n흥분 [興奮]\n흥취 [興趣]\n흥망 [興亡]"]
    ];

    let kanjianswered = false;
    let current = [];

  function selectKanaType(type) {
    document.getElementById('btn-hira').classList.remove('active');
    document.getElementById('btn-kata').classList.remove('active');
    if (type === 'hira') {
      document.getElementById('btn-hira').classList.add('active');
    } else {
      document.getElementById('btn-kata').classList.add('active');
    }
    showKanaQuestion();
  }

  function selectKanaMode(mode) {
    document.getElementById('btn-char2sound').classList.remove('active');
    document.getElementById('btn-sound2char').classList.remove('active');
    if (mode === 'char2sound') {
      document.getElementById('btn-char2sound').classList.add('active');
    } else {
      document.getElementById('btn-sound2char').classList.add('active');
    }
    showKanaQuestion();
  }

  function selectKanaQuiz(mode) {
    document.getElementById('btn-kana-mc').classList.remove('active');
    document.getElementById('btn-kana-sa').classList.remove('active');
    if (mode === 'mc') {
      document.getElementById('btn-kana-mc').classList.add('active');
    } else {
      document.getElementById('btn-kana-sa').classList.add('active');
    }
    showKanaQuestion();
  }
  
  function getKanaSettings() {
  // 현재 선택된 옵션을 읽어서 객체로 반환
  const kanaType = document.getElementById('btn-hira').classList.contains('active') ? 'hira' : 'kata';
  const kanaMode = document.getElementById('btn-char2sound').classList.contains('active') ? 'char2sound' : 'sound2char';
  const kanaQuizType = document.getElementById('btn-kana-mc').classList.contains('active') ? 'mc' : 'sa';

  return {
    type: kanaType,       // 'hira' or 'kata'
    mode: kanaMode,       // 'char2sound' or 'sound2char'
    quizType: kanaQuizType // 'mc' or 'sa'
  };
}

  function getKanaDataset() {
  const { type, mode } = getKanaSettings();

  if (type === 'hira' && mode === 'char2sound') return hira_char2sound;
  if (type === 'hira' && mode === 'sound2char') return hira_sound2char;
  if (type === 'kata' && mode === 'char2sound') return kata_char2sound;
  if (type === 'kata' && mode === 'sound2char') return kata_sound2char;

  return []; // 기본값
}


    function showPage(id) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(id).classList.add('active');

      if (id === 'quiz') {
        const isMC = document.getElementById('btn-mc').classList.contains('active');
        isMC ? nextMCQuestion() : nextSAQuestion();
      } else if (id === 'memory') {
        searchMemory(); 
      }
    }

    function switchkanjiMode(mode) {
      document.getElementById('btn-mc').classList.remove('active');
      document.getElementById('btn-sa').classList.remove('active');
      document.getElementById('mc-container').style.display = 'none';
      document.getElementById('sa-container').style.display = 'none';
      if (mode === 'mc') {
        document.getElementById('btn-mc').classList.add('active');
        document.getElementById('mc-container').style.display = 'block';
        nextMCQuestion();
      } else {
        document.getElementById('btn-sa').classList.add('active');
        document.getElementById('sa-container').style.display = 'block';
        nextSAQuestion();
      }
    }

    function shuffle(arr) {
      return arr.sort(() => Math.random() - 0.5);
    }

    function nextMCQuestion() {
      kanjianswered = false;
      const item = kanjidataset[Math.floor(Math.random() * kanjidataset.length)];
      current = item;
      const choices = shuffle([item[1], item[3], item[4], item[5]]);
      document.getElementById('mc-question').textContent = `【${item[0]}】의 음을 고르세요:`;
      document.getElementById('mc-options').innerHTML = choices.map((ch, i) =>
        `<button onclick="checkMCAnswer(this, '${ch}')">${ch}</button>`).join('');
      document.getElementById('mc-result').textContent = '';
      document.getElementById('mc-description').textContent = '';
      document.getElementById('mc-next-btn').style.display = 'none';
    }

    function checkMCAnswer(btn, choice) {
      if (kanjianswered) return;
      kanjianswered = true;
      const result = document.getElementById('mc-result');
      const desc = document.getElementById('mc-description');
      if (choice === current[1]) {
        result.textContent = "✅ 정답입니다!";
      } else {
        result.textContent = `❌ 오답입니다. 정답: ${current[1]}`;
      }
      btn.style.backgroundColor = (choice === current[1]) ? '#28a745' : '#dc3545';
      btn.style.color = 'white';
      desc.textContent = current[6];
      document.getElementById('mc-next-btn').style.display = 'inline-block';
    }

    function nextSAQuestion() {
      kanjianswered = false;
      const item = kanjidataset[Math.floor(Math.random() * kanjidataset.length)];
      current = item;
      document.getElementById('sa-question').textContent = `【${item[0]}】의 음을 입력하세요:`;
      document.getElementById('sa-answer').value = '';
      document.getElementById('sa-result').textContent = '';
      document.getElementById('sa-description').textContent = '';
      document.getElementById('sa-next-btn').style.display = 'none';
      document.getElementById('sa-answer').focus();
    }

    function checkSAAnswer() {
      if (kanjianswered) return;
      kanjianswered = true;
      const input = document.getElementById('sa-answer').value.trim();
      const result = document.getElementById('sa-result');
      const desc = document.getElementById('sa-description');
      if (input === current[1] || (current[2] && input === current[2])) {
        result.textContent = "✅ 정답입니다!";
      } else {
        result.textContent = `❌ 오답입니다. 정답: ${current[1]}`;
      }
      desc.textContent = current[6];
      document.getElementById('sa-next-btn').style.display = 'inline-block';
    }

    function checkKanaAnswer(answer, btn = null) {
  if (kanaAnswered) return;
  kanaAnswered = true;

  const resultBox = document.getElementById('kana-result');
  const correct = currentKana[1];

  if (answer === correct) {
    resultBox.textContent = '✅ 정답입니다!';
  } else {
    resultBox.textContent = `❌ 오답입니다. 정답: ${correct}`;
  }

  if (btn) {
    btn.style.backgroundColor = (answer === correct) ? '#28a745' : '#dc3545';
    btn.style.color = 'white';
  }

  // 다음 문제 버튼 보여주기
  const nextBtn = document.getElementById('kana-next-btn');
  if (nextBtn) {
    nextBtn.style.display = 'inline-block';
  }
}


    function showKanaQuestion() {
  kanaAnswered = false;
  const settings = getKanaSettings();
  const dataset = getKanaDataset();
  const container = document.getElementById('kana-quiz-container');

  // 문제 하나 랜덤 추출
  const item = dataset[Math.floor(Math.random() * dataset.length)];
  currentKana = item;

  // 문제 영역 초기화
  container.innerHTML = '';

  // 문제 제목
  const question = document.createElement('div');
  question.className = 'question';
  const label =
  settings.quizType === 'sa'
    ? (settings.mode === 'char2sound'
        ? `【${item[0]}】의 발음되는 소리를 입력하세요:`
        : `【${item[0]}】로 발음되는 문자를 입력하세요:`)
    : (settings.mode === 'char2sound'
        ? `【${item[0]}】의 발음되는 소리를 고르세요:`
        : `【${item[0]}】로 발음되는 문자를 고르세요:`);

  question.textContent = label;

  container.appendChild(question);

  // 객관식 or 주관식에 따라 출력 방식 분기
  if (settings.quizType === 'mc') {
    // 객관식
    const options = shuffle([item[1], item[2], item[3], item[4]]);
    const optionBox = document.createElement('div');
    optionBox.className = 'options';

    options.forEach(choice => {
      const btn = document.createElement('button');
      btn.textContent = choice;
      btn.onclick = () => checkKanaAnswer(choice, btn);
      optionBox.appendChild(btn);
    });

    container.appendChild(optionBox);
  } else {
    // 주관식
    const input = document.createElement('input');
    input.type = 'text';
    input.id = 'kana-answer-input';
    input.placeholder = '정답 입력';
    input.style.fontSize = '18px';
    input.style.padding = '5px';
    input.style.marginRight = '10px';

    const submitBtn = document.createElement('button');
    submitBtn.textContent = '제출';
    submitBtn.onclick = () => checkKanaAnswer(input.value.trim());

    container.appendChild(input);
    container.appendChild(submitBtn);

    setTimeout(() => {
    input.focus();
    }, 0);
  }

  // 결과 텍스트 영역
  const result = document.createElement('div');
  result.id = 'kana-result';
  result.className = 'result';
  container.appendChild(result);

  // 다음 문제 버튼 (처음에는 숨김)
  const nextBtn = document.createElement('button');
  nextBtn.textContent = '다음 문제 ▶';
  nextBtn.id = 'kana-next-btn';
  nextBtn.style.display = 'none';
  nextBtn.style.marginTop = '10px';
  nextBtn.style.fontSize = '18px';
  nextBtn.onclick = showKanaQuestion;
  container.appendChild(nextBtn);
}



    function searchMemory() {
      const query = document.getElementById('search').value.trim();
      const result = kanjidataset.filter(row =>
        row.join('').includes(query)
      ).map(row => {
        const reading = row[2] ? `${row[1]}, ${row[2]}` : row[1];
        return `【${row[0]}】(${reading})\n${row[6]}`;
      }).join('\n\n');
      document.getElementById('memory-list').textContent = result;
    }

document.addEventListener('keydown', (e) => {
  // === 한자 퀴즈 처리 ===
  const isQuiz = document.getElementById('quiz').classList.contains('active');
  if (isQuiz) {
    const isMC = document.getElementById('mc-container').style.display !== 'none';
    const isSA = document.getElementById('sa-container').style.display !== 'none';

    if (isMC && !kanjianswered && ['1', '2', '3', '4'].includes(e.key)) {
      const idx = parseInt(e.key) - 1;
      const buttons = document.querySelectorAll('#mc-options button');
      if (buttons[idx]) buttons[idx].click();
    }

    if (e.key === 'ArrowRight') {
      if (isMC && kanjianswered) nextMCQuestion();
      if (isSA && kanjianswered) nextSAQuestion();
    }

    if (isSA) {
      if (e.key === 'Enter') {
        if (!kanjianswered) {
          checkSAAnswer();
        } else {
          nextSAQuestion();
        }
      }
    }
  }

  // === 히라가나/가타카나 퀴즈 처리 ===
  const isKana = document.getElementById('kana').classList.contains('active');
  if (isKana) {
    const nextBtn = document.getElementById('kana-next-btn');
    const input = document.getElementById('kana-answer-input');
    const optionButtons = document.querySelectorAll('#kana-quiz-container .options button');

    // 객관식: 숫자키로 선택
    if (!kanaAnswered && optionButtons.length > 0 && ['1', '2', '3', '4'].includes(e.key)) {
      const idx = parseInt(e.key) - 1;
      if (optionButtons[idx]) optionButtons[idx].click();
    }

    // 주관식: Enter 제출 또는 다음 문제
    if (input) {
      if (e.key === 'Enter') {
        if (!kanaAnswered) {
          checkKanaAnswer(input.value.trim());
        } else if (nextBtn && nextBtn.style.display !== 'none') {
          nextBtn.click();
        }
      }
    }

    // → 키로 다음 문제 진행
    if (kanaAnswered && e.key === 'ArrowRight' && nextBtn && nextBtn.style.display !== 'none') {
      nextBtn.click();
    }
  }
});


    window.onload = () => {
      nextMCQuestion();
      nextSAQuestion();
      searchMemory();
      showKanaQuestion();
    };
  </script>
</body>
</html>
